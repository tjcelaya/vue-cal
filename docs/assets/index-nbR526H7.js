import{c as V,x as ve,D as Z,V as ze,W as b,r as le,G as Je,J as Be}from"./index-dx2pSOUJ.js";const q={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},nt=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Ge=["sun","mon","tue","wed","thu","fri","sat"],Ze=Ge.reduce((o,n,_)=>(o[n]=_||7,o),{}),qe=(o,n,_)=>{const{dateUtils:A}=o,P=!1,S=V(()=>{if(I.value[n.view])return n.view;const u=n.datePicker?"month":"week",D=n.view||u;return I.value[D]?D:(console.warn(`Vue Cal: the provided or default view \`${D}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys(I.value)[0]}\`.`),Object.keys(I.value)[0])}),z=V(()=>n.sm&&!n.xs),h=V(()=>n.xs||n.datePicker),J=V(()=>n.clickToNavigate||n.datePicker&&n.clickToNavigate!==!1),N=V(()=>{const u={cell:{},event:{}},D=w=>w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[w,a]of Object.entries(_)){const[T,M,F]=w.match(/^on(Cell|Event)(.+)$/)||[];T&&(u[M.toLowerCase()][D(F).replace(/^-+|-+$/g,"")]=a)}return u}),H=V(()=>{var D;const u={};return n.hideWeekends&&(u[6]=!0)&&(u[7]=!0),(D=n.hideWeekdays)!=null&&D.length&&n.hideWeekdays.forEach(w=>u[Ze[w]]=!0),u}),O=V(()=>n.hideWeekends||H.value[6]&&H.value[7]),I=V(()=>{const u=n.datePicker;let D=0,w={};const a=n.views;return u&&!a?{month:{...q.availableViews.month},year:{...q.availableViews.year},years:{...q.availableViews.years}}:(a?(Array.isArray(a)?w=a.reduce((T,M)=>(typeof M=="string"&&q.availableViews[M]?T[M]=q.availableViews[M]:D++,T),{}):typeof a=="object"&&(w=Object.entries(a).reduce((T,[M,F])=>{const{cols:L,rows:re}=q.availableViews[M];return T[M]={cols:F.cols||L,rows:F.rows||re},T},{})),D&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(w).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),w={...q.availableViews})):w={...q.availableViews},w)}),G=V(()=>n.datePicker?"month":I.value.week?"week":Object.keys(I.value)[0]),e=V(()=>{if(typeof n.selectedDate=="string")return A.stringToDate(n.selectedDate);if(n.selectedDate instanceof Date)return n.selectedDate;n.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",n.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),Y=V(()=>{if(!n.disableDays)return[];const u=[];if(Array.isArray(n.disableDays))for(let D of n.disableDays){let w=D;typeof D=="string"?w=A.stringToDate(D):D instanceof Date&&(D=A.formatDate(D,"YYYY-MM-DD")),w instanceof Date&&!isNaN(w.getTime())?u.push(D):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",D)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",n.disableDays);return u}),d=V(()=>{let u=null;return n.minDate&&typeof n.minDate=="string"?u=A.stringToDate(n.minDate):n.minDate&&n.minDate instanceof Date&&(u=n.minDate),(u==null?void 0:u.getTime())||null}),f=V(()=>{let u=null;return n.maxDate&&typeof n.maxDate=="string"?u=A.stringToDate(n.maxDate):n.maxDate&&n.maxDate instanceof Date&&(u=n.maxDate),(u==null?void 0:u.getTime())||null}),y=V(()=>{var w;const{view:u}=o;return n.schedules.length&&(u.isDay||u.isDays||u.isWeek)&&((w=n.schedules)==null?void 0:w.map((a,T)=>({...a,id:a.id??T+1})))||void 0}),i=V(()=>{const u={drag:!0,resize:!0,delete:!0,create:!0};return n.editableEvents===!0?u:n.editableEvents===!1?Object.keys(u).map(D=>u[D]=!1):{...u,...n.editableEvents}}),g=V(()=>{const{view:u}=o,{eventCount:D}=n;return(Array.isArray(D)?D.includes(u.id):D)&&(u.isMonth&&!n.eventsOnMonthView||u.isYear)}),c=V(()=>n.allDayEvents&&n.time!==!1&&!S.isMonth),m=V(()=>n.timeAtCursor&&n.time!==!1),v=async u=>{var w;let D=Object.assign({"../i18n/ar.json":()=>b(()=>import("./ar-BYzjjpsv.js"),[]).then(a=>a.default),"../i18n/bg.json":()=>b(()=>import("./bg-DMHwWaHq.js"),[]).then(a=>a.default),"../i18n/bn.json":()=>b(()=>import("./bn-BMHg_6Cc.js"),[]).then(a=>a.default),"../i18n/bs.json":()=>b(()=>import("./bs-BQ6MYvQz.js"),[]).then(a=>a.default),"../i18n/ca.json":()=>b(()=>import("./ca-RJZ1kJCp.js"),[]).then(a=>a.default),"../i18n/cs.json":()=>b(()=>import("./cs-DUR8CfDR.js"),[]).then(a=>a.default),"../i18n/da.json":()=>b(()=>import("./da-C24v82sE.js"),[]).then(a=>a.default),"../i18n/de.json":()=>b(()=>import("./de-BdfGCsIh.js"),[]).then(a=>a.default),"../i18n/el.json":()=>b(()=>import("./el-BbeSS82J.js"),[]).then(a=>a.default),"../i18n/en-gb.json":()=>b(()=>import("./en-gb-BS4nN9Uk.js"),[]).then(a=>a.default),"../i18n/en-us.json":()=>b(()=>Promise.resolve().then(()=>tt),void 0).then(a=>a.default),"../i18n/es.json":()=>b(()=>import("./es-BAvNIXnQ.js"),[]).then(a=>a.default),"../i18n/et.json":()=>b(()=>import("./et-BB2GC4z2.js"),[]).then(a=>a.default),"../i18n/fa.json":()=>b(()=>import("./fa-CLNQrKiD.js"),[]).then(a=>a.default),"../i18n/fi.json":()=>b(()=>import("./fi-C3bvOL2F.js"),[]).then(a=>a.default),"../i18n/fr.json":()=>b(()=>import("./fr-GKuwB6u6.js"),[]).then(a=>a.default),"../i18n/he.json":()=>b(()=>import("./he-dgw3ddFB.js"),[]).then(a=>a.default),"../i18n/hr.json":()=>b(()=>import("./hr-H7xnaszL.js"),[]).then(a=>a.default),"../i18n/hu.json":()=>b(()=>import("./hu-D5PQi6ht.js"),[]).then(a=>a.default),"../i18n/id.json":()=>b(()=>import("./id-C4V9iQKh.js"),[]).then(a=>a.default),"../i18n/is.json":()=>b(()=>import("./is-B36p4HLL.js"),[]).then(a=>a.default),"../i18n/it.json":()=>b(()=>import("./it-BYE8Pv4L.js"),[]).then(a=>a.default),"../i18n/ja.json":()=>b(()=>import("./ja-C_20UUx6.js"),[]).then(a=>a.default),"../i18n/ka.json":()=>b(()=>import("./ka-CNxn4HrL.js"),[]).then(a=>a.default),"../i18n/ko.json":()=>b(()=>import("./ko-C66lSvgy.js"),[]).then(a=>a.default),"../i18n/lt.json":()=>b(()=>import("./lt-CSQtJejA.js"),[]).then(a=>a.default),"../i18n/mn.json":()=>b(()=>import("./mn-OFyF7cuL.js"),[]).then(a=>a.default),"../i18n/nl.json":()=>b(()=>import("./nl-p6pls65L.js"),[]).then(a=>a.default),"../i18n/no.json":()=>b(()=>import("./no-ukJhddl5.js"),[]).then(a=>a.default),"../i18n/pl.json":()=>b(()=>import("./pl-BLhEwn5P.js"),[]).then(a=>a.default),"../i18n/pt-br.json":()=>b(()=>import("./pt-br-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/pt-pt.json":()=>b(()=>import("./pt-pt-Bqj88eex.js"),[]).then(a=>a.default),"../i18n/ro.json":()=>b(()=>import("./ro-DIcQOJbf.js"),[]).then(a=>a.default),"../i18n/ru.json":()=>b(()=>import("./ru-CFk3STll.js"),[]).then(a=>a.default),"../i18n/sk.json":()=>b(()=>import("./sk-BVV3GKLZ.js"),[]).then(a=>a.default),"../i18n/sl.json":()=>b(()=>import("./sl-f5pM865d.js"),[]).then(a=>a.default),"../i18n/sq.json":()=>b(()=>import("./sq-BsCWVll4.js"),[]).then(a=>a.default),"../i18n/sr.json":()=>b(()=>import("./sr-BpAzoY7E.js"),[]).then(a=>a.default),"../i18n/sv.json":()=>b(()=>import("./sv-ifbbDt9U.js"),[]).then(a=>a.default),"../i18n/tr.json":()=>b(()=>import("./tr-CqPh9iY6.js"),[]).then(a=>a.default),"../i18n/uk.json":()=>b(()=>import("./uk-CBcda3hV.js"),[]).then(a=>a.default),"../i18n/vi.json":()=>b(()=>import("./vi-Lfa-VYGA.js"),[]).then(a=>a.default),"../i18n/zh-cn.json":()=>b(()=>import("./zh-cn-CFCd-XoD.js"),[]).then(a=>a.default),"../i18n/zh-hk.json":()=>b(()=>import("./zh-hk-BYHSteah.js"),[]).then(a=>a.default)});{if(!D[`../i18n/${u}.json`]){console.warn(`Vue Cal: the locale \`${u}\` does not exist. Falling back to \`en-us\`.`),u="en-us";return}D=await((w=D[`../i18n/${u}.json`])==null?void 0:w.call(D))}o.texts=Object.assign(o.texts,Object.assign({...q.texts},D)),A.updateTexts(o.texts)},$=ve(n.events||[]);return Z(()=>n.events,u=>$.splice(0,$.length,...u)),Z(()=>n.locale,u=>v(u||"en-us")),(n.locale||!o.texts.today)&&v(n.locale||"en-us"),{...ze(n),events:$,eventListeners:N,defaultView:G,availableViews:I,disableDays:Y,ready:P,sm:z,xs:h,clickToNavigate:J,hideWeekdays:H,hideWeekends:O,minTimestamp:d,maxTimestamp:f,schedules:y,selectedDate:e,editableEvents:i,showCellEventCount:g,allDayEvents:c,timeAtCursor:m,view:S,get hasHiddenDays(){return Object.keys(H.value).length},get size(){return h.value?"xs":z.value?"sm":"lg"},loadTexts:v}},st=(o,n)=>{const _=n.timeTo-n.timeFrom;return(o-n.timeFrom)*100/_},Ke=(o,n)=>{const _=n.timeTo-n.timeFrom;return~~(o*_/100+n.timeFrom)},Qe=(o,n)=>{const _=n.clientHeight;return o*100/_},he=ve({id:null,date:null});let pe=!1,_e=!0;const K=ve({el:null,cell:null,timeout:null}),Q=ve({eventId:null,fromVueCal:null,toVueCal:null});function Ue(o){const{config:n,view:_,eventsManager:A,emit:P,uid:S,dateUtils:z}=o,h=d=>{var v;const{timeStep:f,timeCellHeight:y,timeFrom:i}=n,g=(((v=d.touches)==null?void 0:v[0])||d).clientY,{top:c}=d.currentTarget.getBoundingClientRect(),m=g-c-~~d.dataTransfer.getData("cursor-grab-at");return Ke(Qe(m,d.currentTarget),n)},J=(d,f,y)=>{const i=f.duration||N(f.start,f.end)||n.timeStep;let g=Math.max(h(d),0);if(n.snapToInterval){const $=g+n.snapToInterval/2;g=$-$%n.snapToInterval}const c=new Date(new Date(y).setMinutes(g)),m=Math.min(g+i,24*60),v=new Date(new Date(y).setMinutes(m));return{start:c,end:v}},N=(d,f)=>Math.round((f-d)/6e4);return{eventDragStart:(d,f)=>{if(d.target.nodeType===3||o.touch.isResizingEvent)return d.preventDefault();d.dataTransfer.effectAllowed="move",d.dataTransfer.dropEffect="move";const y={...f,_:{id:f._.id,duration:N(f.start,f.end)}};try{d.dataTransfer.setData("text/plain",""),d.dataTransfer.setData("event",JSON.stringify(y)),d.dataTransfer.setData("cursor-grab-at",d.offsetY)}catch(g){return console.warn("Vue Cal: Failed to set drag data:",g),d.preventDefault()}Q.eventId=f._.id,Q.fromVueCal=S,P("event-drag-start",{e:d,event:f});const i=d.target.closest(".vuecal__event");i.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{i.classList.add("vuecal__event--dragging-original"),i.classList.remove("vuecal__event--dragging-ghost")},0),pe=!1,Object.assign(he,{id:_.id,date:_.firstCellDate}),_e=!0,o.touch.isDraggingEvent=!0},eventDragEnd:(d,f)=>{Q.eventId=null,d.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:y,toVueCal:i}=Q;i&&y!==i&&A.deleteEvent(f._.id,3),pe&&_e&&he.id&&_.switchView(he.id,he.date,!0),P("event-drag-end",{e:d,event:f,external:Q.fromVueCal!==S}),Q.fromVueCal=null,Q.toVueCal=null,o.touch.isDraggingEvent=!1},cellDragEnter:(d,f)=>{const{start:y}=f,i=d.currentTarget;if(!d.currentTarget.contains(d.relatedTarget)){if(i===K.el||!i.className.includes("vuecal__cell-content"))return!1;K.el&&(K.cell.highlighted=!1),Object.assign(K,{el:i,cell:f,timeout:clearTimeout(K.timeout)}),f.highlighted=!0,["years","year","month"].includes(_.id)&&(K.timeout=setTimeout(()=>o.switchToNarrowerView(y),2e3))}},cellDragOver:(d,f)=>{const{start:y,schedule:i}=f;d.preventDefault(),f.highlighted=!0,(i||i===0)&&(f.highlightedSchedule=i)},cellDragLeave:(d,f)=>{d.preventDefault(),!d.currentTarget.contains(d.relatedTarget)&&(f.highlightedSchedule=!1,K.cell===f&&(clearTimeout(K.timeout),Object.assign(K,{el:null,cell:null,timeout:null}),f.highlighted=!1))},cellDragDrop:async(d,f,y=!1)=>{var w,a,T;d.preventDefault(),clearTimeout(K.timeout),Object.assign(K,{el:null,cell:null,timeout:null});const i=JSON.parse(d.dataTransfer.getData("event")||"{}");i.start&&(i.start=new Date(i.start)),i.end&&(i.end=new Date(i.end));let g,c,m;y?(c=new Date(f.start),m=new Date(f.end)):{start:c,end:m}=J(d,i,f.start);const{schedule:v}=((w=d.target.closest("[data-schedule]"))==null?void 0:w.dataset)||{};let $=()=>{};Q.fromVueCal===S?(g=A.getEvent(i._.id),g&&(g._.dragging=!1,$=M=>{if(g.start=c,g.end=m,g.allDay=y,v!==void 0&&(g.schedule=~~v),M&&typeof M=="object"){const{_:F,...L}=M;Object.assign(g,L)}})):(g={...i,start:c,end:m,...v!==void 0&&{schedule:~~v},_:{id:((a=i._)==null?void 0:a.id)||i.id,duration:N(c,m)},getOverlappingEvents:()=>A.getEventsInRange(c,m,{schedule:~~v})},$=M=>{if(g=A.createEvent(g),M&&typeof M=="object"){const{_:F,...L}=M;Object.assign(g,L)}});let u=!0;const{drop:D}=(T=n.eventListeners)==null?void 0:T.event;D&&(u=await D({e:d,event:{...g,start:c,end:m,schedule:~~v},overlaps:g.getOverlappingEvents({start:c,end:m,schedule:~~v}),cell:f,external:Q.fromVueCal!==S})),u!==!1&&$(u),f.highlighted=!1,f.highlightedSchedule=null,_e=!1,Q.toVueCal=S,P("event-dropped",{e:d,cell:f,event:g,originalEvent:i,external:Q.fromVueCal!==S})}}}const be=(o,n)=>{let _,A,P,S={},z={};const h=le(o),J=()=>{h.value.today||(h.value=n),Date.prototype.addDays=function(t){return I(this,t||0)},Date.prototype.subtractDays=function(t){return G(this,t||0)},Date.prototype.addHours=function(t){return e(this,t||0)},Date.prototype.subtractHours=function(t){return Y(this,t||0)},Date.prototype.addMinutes=function(t){return d(this,t||0)},Date.prototype.subtractMinutes=function(t){return f(this,t||0)},Date.prototype.getWeek=function(){return i(this)},Date.prototype.isToday=function(){return g(this)},Date.prototype.isLeapYear=function(){return v(this)},Date.prototype.format=function(t="YYYY-MM-DD"){return M(this,t)},Date.prototype.formatTime=function(t="HH:mm"){return L(this,t)}},N=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},H=t=>{h.value=t,Date.prototype.subtractDays&&J()},O=()=>(A!==new Date().getDate()&&(_=new Date,A=_.getDate(),P=`${_.getFullYear()}-${_.getMonth()}-${_.getDate()}`),P),I=(t,l)=>{const s=new Date(t.valueOf());return s.setDate(s.getDate()+l),s},G=(t,l)=>{const s=new Date(t.valueOf());return s.setDate(s.getDate()-l),s},e=(t,l)=>{const s=new Date(t.valueOf());return s.setHours(s.getHours()+l),s},Y=(t,l)=>{const s=new Date(t.valueOf());return s.setHours(s.getHours()-l),s},d=(t,l)=>{const s=new Date(t.valueOf());return s.setMinutes(s.getMinutes()+l),s},f=(t,l)=>{const s=new Date(t.valueOf());return s.setMinutes(s.getMinutes()-l),s},y=(t,l)=>{const s=E=>{const C=E%l;return C!==0&&(E+=C>=l/2?l-C:-C),E};if(typeof t=="number")return s(t);if(t instanceof Date){let E=s(t.getMinutes());E>=60&&(t.setHours(t.getHours()+1),E=0),t.setMinutes(E,0,0)}},i=(t,l=!1)=>{const s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),E=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-E);const C=new Date(Date.UTC(s.getUTCFullYear(),0,1));return Math.ceil(((s-C)/864e5+1)/7)+(l?1:0)},g=t=>`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`===O(),c=(t,l)=>{if(!t||!l)return console.warn(`Vue Cal: missing date${t?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(T(t)){if(!T(l))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${l}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${t}\`.`);return t.getFullYear()===l.getFullYear()&&t.getMonth()===l.getMonth()&&t.getDate()===l.getDate()},m=(t,l,s)=>T(t)?t.getTime()>=l&&t.getTime()<=s:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${t}\`.`),v=t=>{const l=t.getFullYear();return!(l%400)||l%100&&!(l%4)},$=(t=null,l)=>{const s=t&&new Date(t.valueOf())||new Date,E=l?7:6;return s.setDate(s.getDate()-(s.getDay()+E)%7),s},u=t=>t instanceof Date?t:(t.length===10&&(t+=" 00:00"),new Date(t.replace(/-/g,"/"))),D=t=>t.getHours()*60+t.getMinutes(),w=(t,l)=>{typeof t=="string"&&(t=t.replace(/-/g,"/")),typeof l=="string"&&(l=l.replace(/-/g,"/")),t=new Date(t).setHours(0,0,0,0),l=new Date(l).setHours(0,0,1,0);const s=(new Date(l).getTimezoneOffset()-new Date(t).getTimezoneOffset())*60*1e3;return Math.ceil((l-t-s)/(24*3600*1e3))},a=(t,l,s)=>Math.abs(t.getTime()-l.getTime())<=s*60*1e3,T=t=>t&&t instanceof Date&&!isNaN(t),M=(t,l="YYYY-MM-DD",s=null)=>{if(s||(s=h.value),l||(l="YYYY-MM-DD"),l==="YYYY-MM-DD")return F(t);S={},z={};const E={YYYY:()=>R(t,s).YYYY,YY:()=>R(t,s).YY(),M:()=>R(t,s).M,MM:()=>R(t,s).MM(),MMM:()=>R(t,s).MMM(),MMMM:()=>R(t,s).MMMM(),MMMMG:()=>R(t,s).MMMMG(),D:()=>R(t,s).D,DD:()=>R(t,s).DD(),S:()=>R(t,s).S(),d:()=>R(t,s).d,dd:()=>R(t,s).dd(),ddd:()=>R(t,s).ddd(),dddd:()=>R(t,s).dddd(),HH:()=>x(t,s).HH,H:()=>x(t,s).H,hh:()=>x(t,s).hh,h:()=>x(t,s).h,am:()=>x(t,s).am,AM:()=>x(t,s).AM,mm:()=>x(t,s).mm,m:()=>x(t,s).m,s:()=>x(t,s).s};return l.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(C,U)=>{const W=E[U.replace(/\{|\}/g,"")];return W!==void 0?W():U})},F=t=>{const l=t.getMonth()+1,s=t.getDate();return`${t.getFullYear()}-${l<10?"0":""}${l}-${s<10?"0":""}${s}`},L=(t,l="HH:mm",s=null,E=!1)=>{let C=!1;if(E){const[me,ie,ue]=[t.getHours(),t.getMinutes(),t.getSeconds()];me+ie+ue===141&&(C=!0)}if(t instanceof Date&&l==="HH:mm")return C?"24:00":re(t);z={},s||(s=h.value);const U=x(t,s),W=l.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(me,ie)=>{const ue=U[ie.replace(/\{|\}/g,"")];return ue!==void 0?ue:ie});return C?W.replace("23:59","24:00"):W},re=t=>{const l=t.getHours(),s=t.getMinutes();return`${(l<10?"0":"")+l}:${(s<10?"0":"")+s}`},ee=t=>{const l=Math.floor(t/60).toString().padStart(2,0),s=(t%60).toString().padStart(2,0);return`${l}:${s}`},te=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},R=(t,l)=>{if(S.D)return S;const s=t.getFullYear(),E=t.getMonth()+1,C=t.getDate(),W=(t.getDay()-1+7)%7;return S={YYYY:s,YY:()=>s.toString().substring(2),M:E,MM:()=>E.toString().padStart(2,0),MMM:()=>l.months[E-1].substring(0,3),MMMM:()=>l.months[E-1],MMMMG:()=>(l.monthsGenitive||l.months)[E-1],D:C,DD:()=>C.toString().padStart(2,0),S:()=>te(C),d:W+1,dd:()=>l.weekDaysShort.length?l.weekDaysShort[W]:l.weekDays[W][0],ddd:()=>l.weekDaysShort.length?l.weekDaysShort[W]:l.weekDays[W].substr(0,3),dddd:()=>l.weekDays[W]},S},x=(t,l)=>{if(z.am)return z;let s,E,C;t instanceof Date?(s=t.getHours(),E=t.getMinutes(),C=t.getSeconds()):(s=Math.floor(t/60),E=Math.floor(t%60));const U=s%12?s%12:12,W=(l||{am:"am",pm:"pm"})[s===24||s<12?"am":"pm"];return z={H:s,h:U,HH:s.toString().padStart(2,0),hh:U.toString().padStart(2,0),am:W,AM:W.toUpperCase(),m:E,mm:E.toString().padStart(2,0),s:C},z};return{addDatePrototypes:J,removeDatePrototypes:N,updateTexts:H,addDays:I,subtractDays:G,addHours:e,subtractHours:Y,addMinutes:d,subtractMinutes:f,snapToInterval:y,getWeek:i,isToday:g,isSameDate:c,isInRange:m,isLeapYear:v,getPreviousFirstDayOfWeek:$,stringToDate:u,dateToMinutes:D,countDays:w,datesInSameTimeStep:a,isValid:T,formatDate:M,formatDateLite:F,formatTime:L,formatTimeLite:re,formatMinutes:ee}},Xe=o=>{const{dateUtils:n,config:_}=o;let A=0;const P=V(()=>{var d,f,y,i,g;const e={byYear:{},byDate:{},recurring:[],multiday:[],byId:{}},Y=_.events.slice().sort((c,m)=>c.start-m.start<0?-1:1);for(const c of Y){const m=typeof c.start=="string"||typeof c.end=="string",v=!((d=c._)!=null&&d.register)||!c.isOverlapping||!c.delete;let $=!1;if(!m&&((f=c._)!=null&&f.cachedStart)&&((y=c._)!=null&&y.cachedEnd)&&($=c.start.getTime()!==((i=c._)==null?void 0:i.cachedStart)||c.end.getTime()!==((g=c._)==null?void 0:g.cachedEnd)),m||v||$){if(!S(c))continue;z(c),c._.cachedStart=c.start.getTime(),c._.cachedEnd=c.end.getTime()}if(e.byId[c._.id]=c,c.recurring)e.recurring.push(c._.id);else if(c._.multiday){e.multiday.push(c._.id);const u=new Date(c.start),D=new Date(c.end),w=new Date(u);for(;w<=D;){const a=n.formatDate(w);e.byDate[a]||(e.byDate[a]=[]),e.byDate[a].push(c._.id);const T=a.substring(0,4),M=a.substring(5,7),F=a.substring(8,10);e.byYear[T]||(e.byYear[T]={}),e.byYear[T][M]||(e.byYear[T][M]={}),e.byYear[T][M][F]||(e.byYear[T][M][F]=[]),e.byYear[T][M][F].push(c._.id),w.setDate(w.getDate()+1)}}else{e.byDate[c._.startFormatted]||(e.byDate[c._.startFormatted]=[]),e.byDate[c._.startFormatted].push(c._.id);const u=c._.startFormatted.substring(0,4),D=c._.startFormatted.substring(5,7),w=c._.startFormatted.substring(8,10);e.byYear[u]||(e.byYear[u]={}),e.byYear[u][D]||(e.byYear[u][D]={}),e.byYear[u][D][w]||(e.byYear[u][D][w]=[]),e.byYear[u][D][w].push(c._.id)}}return e}),S=e=>!e.start||!e.end?(console.error("Vue Cal: Event is missing start or end date",e),!1):(typeof e.start=="string"&&(e.start=n.stringToDate(e.start)),typeof e.end=="string"&&(e.end=n.stringToDate(e.end)),e.start.setSeconds(0,0),e.end.getSeconds()>=59?e.end.setMinutes(e.end.getMinutes()+1,0,0):e.end.setSeconds(0,0),isNaN(e.start)||isNaN(e.end)||e.end.getTime()<e.start.getTime()?(isNaN(e.start)?console.error(`Vue Cal: invalid start date for event "${e.title}".`,e.start):isNaN(e.end)?console.error(`Vue Cal: invalid end date for event "${e.title}".`,e.end):console.error(`Vue Cal: invalid event dates for event "${e.title}". The event ends before it starts.`,e.start,e.end),!1):!0),z=e=>{e._||(e._={}),e._.id=e._.id||++A,e._.multiday=!n.isSameDate(e.start,new Date(e.end.getTime()-1)),e._.startFormatted=n.formatDate(e.start),e._.startMinutes=~~n.dateToMinutes(e.start),e._.endMinutes=~~n.dateToMinutes(e.end);const Y=e.start.getHours(),d=e.start.getMinutes().toString().padStart(2,0),f=e.end.getHours(),y=e.end.getMinutes().toString().padStart(2,0);e._.startTimeFormatted24=`${Y.toString().padStart(2,0)}:${d}`,e._.startTimeFormatted12=`${Y%12||12}${d?`:${d}`:""} ${Y<12?"AM":"PM"}`,e._.endTimeFormatted24=`${f.toString().padStart(2,0)}:${y}`,e._.endTimeFormatted12=`${f%12||12}${y?`:${y}`:""} ${f<12?"AM":"PM"}`,e._.duration=Math.abs(~~((e.end-e.start)/6e4)),e.delete||(e.delete=function(i){return H(this._.id,i)}),e._.deleting===void 0&&(e._.deleting=!1),e._.deleted===void 0&&(e._.deleted=!1),e.isOverlapping||(e.isOverlapping=function(i=null){return this.getOverlappingEvents(i).length}),e.getOverlappingEvents||(e.getOverlappingEvents=function(i=null){var v;const g=(i==null?void 0:i.start)||this.start,c=(i==null?void 0:i.end)||this.end,m=(v=_.schedules)!=null&&v.length?~~((i==null?void 0:i.schedule)||this.schedule):null;return I(g,c,{excludeIds:[this._.id],schedule:m})}),e._.register||(e._.register=i=>{e._.$el=i,e._.fireCreated&&(o.emit("event-created",e),delete e._.fireCreated)}),e._.unregister||(e._.unregister=()=>{e._.$el=null,e._.register=null,e.isOverlapping=null,e.getOverlappingEvents=null,e.delete=null})},h=e=>P.value.byId[e],J=e=>{const Y=[];for(const{start:d,end:f}of e){const y=I(d,f);y.length&&Y.push(...y)}return Y},N=e=>{if(!e.start||!e.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return _.snapToInterval&&(n.snapToInterval(e.start,_.snapToInterval),n.snapToInterval(e.end,_.snapToInterval)),e={...e},e._||(e._={}),e._.id=++A,e._.fireCreated=!0,_.events.push(e),e},H=async(e,Y=0)=>{var g,c;if(!e)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let d=typeof e=="string"||!isNaN(e)?e:null;const f=typeof e=="object"?Object.entries(e):null;if(f){const[m,v]=f[0];d=(g=_.events.find($=>$[m]===v))==null?void 0:g._.id}if(!_.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!d)return console.warn("Vue Cal: Cannot delete event without its ID.");const y=_.events.findIndex(m=>m._.id===d);if(y===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${d}\`.`);const i=_.events[y];if(i.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${d}\` since it was explicitely set to \`delete: false\`.`);switch(Y){case 0:i._.deleting?_.events.splice(y,1):i._.deleting=!0;break;case 1:i._.deleting=!0;break;case 2:i._.deleted=!0,_.events[y]._.deleted=!0,(c=i._.$el)==null||c.dispatchEvent(new CustomEvent("event-deleted",{detail:i._.id}));break;case 3:_.events.splice(y,1),o.emit("update:events",_.events),o.emit("event-delete",i);break}return!0},O=(e,Y,d)=>{const f=_.allDayEvents?{allDay:d}:{},y=I(e,Y,{background:!1,...f});if(!y.length)return{cellOverlaps:{},longestStreak:0};const i={};let g=[],c=0;y.sort((m,v)=>m.start-v.start||m.end-m.start-(v.end-v.start));for(const m of y){const v=m._.id;i[v]||(i[v]={overlaps:new Set,maxConcurrent:1,position:0}),g=g.filter(a=>a.end>m.start);const $=g.filter(a=>{var M;return(!((M=_.schedules)!=null&&M.length)||m.schedule===a.schedule)&&a.start<m.end}),u=new Set($.map(a=>{var T;return((T=i[a._.id])==null?void 0:T.position)??0}));let D=0;for(;u.has(D);)D++;i[v].position=D,g.push(m);const w=Math.max(1,...$.map(a=>{var T;return((T=i[a._.id])==null?void 0:T.maxConcurrent)??1}));i[v].maxConcurrent=Math.max($.length+1,w);for(const a of $)i[a._.id].overlaps.add(v),i[v].overlaps.add(a._.id),i[a._.id].maxConcurrent=i[v].maxConcurrent;c=Math.max(c,i[v].maxConcurrent)}for(const m in i)i[m].overlaps=[...i[m].overlaps];return{cellOverlaps:i,longestStreak:c}},I=(e,Y,{excludeIds:d=[],schedule:f=null,background:y=!0,allDay:i=!1}={})=>{if(!Object.keys(P.value.byId).length)return[];const g=e.getFullYear(),c=Y.getFullYear(),m=e.getMonth()+1,v=Y.getMonth()+1,$=e.getDate(),u=Y.getDate(),D=e.getTime(),w=Y.getTime(),a=[],T=new Set(d);for(let M=g;M<=c;M++){const F=`${M}`,L=P.value.byYear[F];if(!L)continue;const re=M===g?m:1,ee=M===c?v:12;for(let te=re;te<=ee;te++){const R=String(te).padStart(2,"0"),x=L[R];if(x)for(const t in x){const l=+t;if(M===g&&te===m&&l<$||M===c&&te===v&&l>u)continue;const s=x[t];if(s!=null&&s.length)for(let E=0;E<s.length;E++){const C=P.value.byId[s[E]];!C||T.has(C._.id)||f!==null&&f!==C.schedule||y===!1&&C.background||_.allDayEvents&&(i&&!C.allDay||!i&&C.allDay)||C.end.getTime()>D&&C.start.getTime()<w&&a.push(C)}}}}return a};return{events:P,getEvent:h,getViewEvents:J,getCellOverlappingEvents:O,getEventsInRange:I,createEvent:N,deleteEvent:H,isEventInRange:(e,Y,d)=>{const f=e.allDay||!_.time,y=f?new Date(e.start).setHours(0,0,0,0):e.start.getTime(),i=f?new Date(e.end).setHours(23,59,59,999):e.end.getTime(),g=f?new Date(Y).setHours(0,0,0,0):Y.getTime(),c=f?new Date(d).setHours(23,59,59,999):d.getTime();return i>g&&y<c}}},et=({config:o,dateUtils:n,emit:_,texts:A,eventsManager:P},S)=>{const{availableViews:z}=o,h=le(o.view&&z[o.view]?o.view:o.defaultView),J=le(o.selectedDate||null),N=le(new Date),H=le(new Date(o.viewDate||N.value));H.value.setHours(0,0,0,0);const O=le(new Date(H));let I=null;const G=V(()=>h.value==="month"?O.value:v.value),e=V(()=>h.value==="month"?new Date(O.value.getFullYear(),O.value.getMonth()+1,0,23,59,59,999):u.value),Y=V(()=>h.value==="week"?n.getPreviousFirstDayOfWeek(v.value,o.startWeekOnSunday):h.value==="month"?v.value:G.value),d=V(()=>{if(h.value==="week"){const r=n.addDays(Y.value,7);return r.setMilliseconds(-1),r}return h.value==="month"?u.value:e.value}),f=V(()=>{const r=N.value.getTime();if(h.value==="week")return Y.value.getTime()<=r&&r<=d.value.getTime();const p=v.value.getTime(),j=u.value.getTime();return p<=r&&r<=j});function y(){N.value=new Date,I=setTimeout(y,60*1e3)}function i(){I=setTimeout(y,(60-new Date().getSeconds())*1e3),y()}const g=V(()=>{if(!o.availableViews[h.value])return 1;let r=o.availableViews[h.value].cols;return o.hasHiddenDays&&["week","month"].includes(h.value)&&(r-=o.hasHiddenDays),r}),c=V(()=>{var r;return((r=o.availableViews[h.value])==null?void 0:r.rows)||1}),m=V(()=>g.value*c.value),v=V(()=>{if(h.value==="month"){let r=O.value.getDay()||7;return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(r+=1),o.viewDayOffset&&(r-=o.viewDayOffset),n.subtractDays(O.value,r-1)}if(h.value==="week"){const r="1234567".split("").filter(j=>!Object.keys(o.hideWeekdays).includes(j));let p=Math.min(...r);return o.startWeekOnSunday&&!o.hideWeekdays[7]&&(p=1),o.viewDayOffset&&(p+=o.viewDayOffset),n.addDays(O.value,p-1)}return O.value}),$=V(()=>{const r=[],p=["days","week","month"].includes(h.value);let j=0;for(let k=0;k<m.value+j;k++)switch(h.value){case"day":case"days":case"week":case"month":{const B=n.addDays(v.value,k),De=B.getDay()||7;if(p&&o.hasHiddenDays&&o.hideWeekdays[De]){j++;continue}const oe=new Date(B);oe.setHours(23,59,59,999),r.push({start:B,startFormatted:n.formatDate(B),end:oe});break}case"year":r.push({start:new Date(v.value.getFullYear(),k,1,0,0,0,0),end:new Date(v.value.getFullYear(),k+1,0,23,59,59,999)});break;case"years":r.push({start:new Date(v.value.getFullYear()+k,0,1,0,0,0,0),end:new Date(v.value.getFullYear()+k+1,0,0,23,59,59,999)});break}return r}),u=V(()=>$.value[$.value.length-1].end),D=le("right"),w=V(()=>{const r=Object.keys(o.availableViews);return r[r.indexOf(h.value)+1]}),a=V(()=>{const r=Object.keys(o.availableViews);return r[r.indexOf(h.value)-1]});function T(r,p,j=!1){if(!p||!p[r])return r+1;const k=p[r];return j&&typeof k=="string"?k.substring(0,3):k}function M(r,p,j){const{monthsArray:k,monthBeforeDay:B,canTruncate:De,xs:oe}=j,ae=r.getMonth(),ne=r.getFullYear(),se=p.getMonth(),de=p.getFullYear(),ge=ae!==se,xe=ne!==de,X=De&&(oe||ge),ce=r.getDate(),fe=p.getDate();return xe?B?`${T(ae,k,X)} ${ce}, ${ne} - ${T(se,k,X)} ${fe}, ${de}`:`${ce} ${T(ae,k,X)} ${ne} - ${fe} ${T(se,k,X)} ${de}`:ge?B?`${T(ae,k,X)} ${ce} - ${T(se,k,X)} ${fe}, ${ne}`:`${ce} ${T(ae,k,X)} - ${fe} ${T(se,k,X)} ${ne}`:B?`${T(ae,k,X)} ${ce}-${fe}, ${ne}`:`${ce}-${fe} ${T(ae,k,X)} ${ne}`}const F=V(()=>{const{dateFormat:r,months:p,monthsGenitive:j,week:k,truncations:B}=A,De=o.locale,oe=B!==!1,ae=r.indexOf("M")<r.indexOf("D"),ne=j&&De==="el"?j:p;switch(h.value){case"day":return n.formatDate(v.value,r);case"days":case"week":{const se={monthsArray:ne,monthBeforeDay:ae,canTruncate:oe,xs:o.xs};let de=M(v.value,u.value,se);if(h.value==="week"){const ge=n.getWeek(v.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);de+=` <small>${k} ${ge}</small>`}return de}case"month":{const se=`${o.xs&&oe?"MMM":"MMMM"} YYYY`;return n.formatDate(G.value,se)}case"year":return v.value.getFullYear();case"years":return`${v.value.getFullYear()} - ${e.value.getFullYear()}`}});async function L(){switch(O.value=new Date(H.value||N.value),O.value.setHours(0,0,0,0),h.value){case"day":break;case"days":break;case"week":O.value=n.getPreviousFirstDayOfWeek(O.value,o.startWeekOnSunday&&!o.hideWeekdays[7]);break;case"month":O.value=new Date(O.value.getFullYear(),O.value.getMonth(),1,0,0,0,0);break;case"year":O.value=new Date(O.value.getFullYear(),0,1,0,0,0,0);break;case"years":O.value=new Date(O.value.getFullYear()-O.value.getFullYear()%m.value,0,1,0,0,0,0);break}N.value=new Date,o.ready&&(await Be(),_("view-change",{id:h.value,title:F.value,start:G.value,end:e.value,extendedStart:Y.value,extendedEnd:d.value,cellDates:$.value,containsToday:f.value,events:Te.value}))}function re(r){const p=h.value,j=o.availableViews[p];r[p]&&JSON.stringify(r[p])===JSON.stringify(j)||L()}function ee(r,p=!0){const j=Object.keys(o.availableViews);h.value!==r&&(j.includes(r)?(D.value=j.indexOf(r)<j.indexOf(h.value)?"left":"right",h.value=r,p&&_("update:view",r),L()):console.warn(`Vue Cal: the \`${r}\` view is not available.`))}function te(){w.value?ee(w.value):console.warn("Vue Cal: no broader view is available.")}function R(){a.value?ee(a.value):console.warn("Vue Cal: no narrower view is available.")}function x(){l(!1)}function t(){l(!0)}function l(r=!0){let p=new Date(H.value);switch(h.value){case"day":case"days":r?p=n.addDays(u.value,1):p=n.subtractDays(v.value,m.value);break;case"week":{r?(p=n.addDays(d.value,1),p.setHours(0,0,0,0)):p=n.subtractDays(Y.value,m.value);break}case"month":{const j=r?1:-1;p=new Date(p.getFullYear(),p.getMonth()+j,1,0,0,0,0);break}case"year":{const j=r?1:-1;p=new Date(p.getFullYear()+j,1,1,0,0,0,0);break}case"years":{const j=r?m.value:-m.value;p=new Date(p.getFullYear()+j,1,1,0,0,0,0);break}}E(p)}function s(){const r=new Date;r.setHours(0,0,0,0),E(r)}function E(r,p=!0,j=!1){if(!n.isValid(r))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[k,B]=[v.value,u.value];h.value==="month"&&([k,B]=[G.value,e.value]),(!n.isInRange(r,k,B)||j)&&(r.setHours(0,0,0,0),D.value=r.getTime()<k.getTime()?"left":"right",H.value=r,p&&_("update:viewDate",r),L())}function C(r,p=!0){if(!n.isValid(r))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:j,isSameDate:k}=n;(!J.value||!j(J.value)||!k(r,J.value))&&(r.setHours(0,0,0,0),J.value=r,p&&_("update:selectedDate",r))}function U(r){!r&&!O.value.getDay()?E(n.addDays(O.value,1),!0,!0):(D.value="left",L())}function W(r){r&&o.startWeekOnSunday&&!O.value.getDay()?E(n.addDays(O.value,1),!0,!0):!r&&o.startWeekOnSunday&&O.value.getDay()===1&&E(n.subtractDays(O.value,1),!0,!0)}function me(){console.log("toggling weekdays",o.hideWeekdays),L()}function ie(r){var k;const p=(k=S.value)==null?void 0:k.querySelector(".vuecal__scrollable"),j=r?r*o.timeCellHeight/o.timeStep:0;p==null||p.scrollTo({top:j,behavior:"smooth"})}function ue(){const r=new Date;ie(r.getHours()*60+r.getMinutes())}function He(){ie(0)}const Te=V(()=>P.getViewEvents($.value)),We=P.createEvent,Ne=P.deleteEvent;return Z(()=>o.view,r=>ee(r,!1)),Z(()=>o.availableViews,re),Z(()=>o.datePicker,()=>ee("month")),Z(()=>o.viewDate,r=>E(r,!1)),Z(()=>o.selectedDate,r=>C(r,!1)),Z(()=>o.startWeekOnSunday,r=>U(r)),Z(()=>o.hideWeekends,r=>W(r)),Z(()=>o.hideWeekdays,me),Z(()=>m.value,()=>{m.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),Z(()=>o.watchRealTime,r=>{r&&o.time?i():I=clearTimeout(I)}),L(),o.time&&o.watchRealTime&&i(),Je(()=>I=clearTimeout(I)),{now:N,id:h,broaderView:w,narrowerView:a,title:F,viewDate:H,start:G,end:e,extendedStart:Y,extendedEnd:d,firstCellDate:v,lastCellDate:u,containsToday:f,selectedDate:J,cellDates:$,cols:g,rows:c,events:Te,transitionDirection:D,switch:ee,broader:te,narrower:R,previous:x,next:t,navigate:l,goToToday:s,updateViewDate:E,updateSelectedDate:C,scrollToCurrentTime:ue,scrollToTime:ie,scrollTop:He,createEvent:We,deleteEvent:Ne,get isDay(){return h.value==="day"},get isDays(){return h.value==="days"},get isWeek(){return h.value==="week"},get isMonth(){return h.value==="month"},get isYear(){return h.value==="year"},get isYears(){return h.value==="years"}}},Me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ee=["January","February","March","April","May","June","July","August","September","October","November","December"],Ve="Years",ke="Year",Oe="Month",Ye="Week",Se="Days",Ce="Day",je="Today",$e="No Event",Ie="All-day",Ae="Delete",Pe="Create an event",Fe="dddd, MMMM D, YYYY",Le="am",Re="pm",we={weekDays:Me,months:Ee,years:Ve,year:ke,month:Oe,week:Ye,days:Se,day:Ce,today:je,noEvent:$e,allDay:Ie,deleteEvent:Ae,createEvent:Pe,dateFormat:Fe,am:Le,pm:Re},tt=Object.freeze(Object.defineProperty({__proto__:null,allDay:Ie,am:Le,createEvent:Pe,dateFormat:Fe,day:Ce,days:Se,default:we,deleteEvent:Ae,month:Oe,months:Ee,noEvent:$e,pm:Re,today:je,week:Ye,weekDays:Me,year:ke,years:Ve},Symbol.toStringTag,{value:"Module"})),ye=ve({texts:{...q.texts},dateUtils:be(q.texts,we)}),rt=({props:o,emit:n,attrs:_,vuecalEl:A,uid:P})=>{const S=ve({uid:P,emit:n,texts:{...ye.texts},dateUtils:{...ye.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1}});return S.dateUtils=be(Object.assign(q.texts,S.texts),we),S.config=qe(S,o,_),S.eventsManager=Xe(S),S.view=et(S,A),S.dnd=Ue(S),S},{addDatePrototypes:it,removeDatePrototypes:ot,updateTexts:lt,addDays:ut,subtractDays:dt,addHours:ct,subtractHours:ft,addMinutes:vt,subtractMinutes:Dt,getWeek:mt,isToday:gt,isSameDate:ht,isInRange:_t,isLeapYear:yt,getPreviousFirstDayOfWeek:wt,stringToDate:Tt,dateToMinutes:pt,countDays:bt,datesInSameTimeStep:Mt,isValid:Et,formatDate:Vt,formatDateLite:kt,formatTime:Ot,formatTimeLite:Yt,formatMinutes:St}=ye.dateUtils;export{ut as a,it as b,bt as c,nt as d,Qe as e,Vt as f,st as m,Ke as p,Tt as s,rt as u,Ge as w};
